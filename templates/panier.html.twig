{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}

<h1> Panier </h1>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Id</th>
                <th>Titre</th>
                <th>Prix</th>
                <th>Quantité</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
                <tr>
                    <td><a href="{{ path('product.show', {id : product.id}) }}">{{ product.id }}</a></td>
                    <td><a href="{{ path('product.show', {id : product.id}) }}">{{ product.nom }}</a></td>
                    <td><a href="{{ path('product.show', {id : product.id}) }}">{{ product.prix }} €</a></td>
                    <td><a href="{{ path('product.show', {id : product.id}) }}">{{ product.quantite }}</a></td>

                    <td><a type="button" href="/cart/delete/{{ product.id }}" class="btn btn-danger">Supprimer</a></td>
                </tr>
            {% endfor %}

            <tr>
                <th></th>
                <th></th>
                <th>Total du panier :</th>
                <th>{{ totalPanier }} €</th>
            </tr>
        </tbody>
    </table>


    {% for message in app.flashes('alert') %}
    <div role="alert" class="alert alert-success mt-4">
        {{ message }}
    </div>
    {% endfor %}


    
    {{ form_start(commandForm) }}
        <div class="form-group">
            <label for="article_title">Votre email : </label>
            {{ form_widget(commandForm.email) }}
        </div>

        <button type="submit" class="btn btn-primary btn-block">
            M'envoyer le panier par mail
        </button>
    {{ form_end(commandForm) }}


{% endblock %}